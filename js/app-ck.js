(function(){var e=function(e){var n=document.getElementById("screen"),r=n.getContext("2d"),i={x:n.width,y:n.height};this.bodies=[new t(this,i)];var s=this,o=function(){s.update();s.draw(r,i);requestAnimationFrame(o)};o()};e.prototype={update:function(){for(var e=0;e<this.bodies.length;e++)this.bodies[e].update()},draw:function(e,t){e.clearRect(0,0,t.x,t.y);for(var n=0;n<this.bodies.length;n++)r(e,this.bodies[n])},addBody:function(e){this.bodies.push(e)}};var t=function(e,t){this.game=e;this.size={x:15,y:15};this.center={x:t.x/2,y:t.y-this.size.x};this.keyboarder=new i};t.prototype={update:function(){this.keyboarder.isDown(this.keyboarder.KEYS.LEFT)?this.center.x-=2:this.keyboarder.isDown(this.keyboarder.KEYS.RIGHT)&&(this.center.x+=2);if(this.keyboarder.isDown(this.keyboarder.KEYS.SPACE)){var e=new n({x:this.center.x,y:this.center.y-this.size.x/2},{x:0,y:-6});this.game.addBody(e)}}};var n=function(e,t){this.size={x:3,y:3};this.center=e;this.velocity=t};n.prototype={update:function(){this.center.x+=this.velocity.x;this.center.y+=this.velocity.y}};var r=function(e,t){e.fillRect(t.center.x-t.center.x/2,t.center.y-t.center.y/2,t.size.x,t.size.y)},i=function(){var e={};window.onkeydown=function(t){e[t.keyCode]=!0};window.onkeyup=function(t){e[t.keyCode]=!1};this.isDown=function(t){return e[t]===!0};this.KEYS={LEFT:37,RIGHT:39,SPACE:32}};window.onload=function(){new e("screen")}})();